import{f as E,g as L,a as h,t as D,c as ce}from"../chunks/CtCoybIn.js";import{Y as J,_ as fe,T as me,b1 as ve,z as O,au as de,af as pe,aw as U,a3 as K,a2 as V,V as ue,p as Q,o as he,b2 as ye,J as ge,K as _e,t as X,a as Z,s as C,y as Y,c as _,G as p,r as b,d as f,H as W,an as be}from"../chunks/DTfDAl4_.js";import{B as we,i as M}from"../chunks/7tgxHHI9.js";import{s as y}from"../chunks/CvDsuMjO.js";import{i as ee}from"../chunks/BKqJgErF.js";import{s as H,p as ke}from"../chunks/CsqScXD4.js";import{s as te,a as F}from"../chunks/DKdwQT7R.js";import{b as B,r as Re}from"../chunks/DWSPNRio.js";import{_ as Ee}from"../chunks/PPVm8Dsz.js";import{w as z}from"../chunks/virzRwso.js";function Te(e,c,...o){var i=new we(e);J(()=>{const n=c()??null;i.ensure(n,n&&(t=>n(t,...o)))},fe)}function $e(e,c){let o=null,i=O;var n;if(O){o=ue;for(var t=de(document.head);t!==null&&(t.nodeType!==pe||t.data!==e);)t=U(t);if(t===null)K(!1);else{var s=U(t);t.remove(),V(s)}}O||(n=document.head.appendChild(me()));try{J(()=>c(n),ve)}finally{i&&(K(!0),V(o))}}const Se="";function q(...e){return B+Se+Re(e[0],e[1])}const xe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='128'%20viewBox='0%200%20107%20128'%3e%3ctitle%3esvelte-logo%3c/title%3e%3cpath%20d='M94.157%2022.819c-10.4-14.885-30.94-19.297-45.792-9.835L22.282%2029.608A29.92%2029.92%200%200%200%208.764%2049.65a31.5%2031.5%200%200%200%203.108%2020.231%2030%2030%200%200%200-4.477%2011.183%2031.9%2031.9%200%200%200%205.448%2024.116c10.402%2014.887%2030.942%2019.297%2045.791%209.835l26.083-16.624A29.92%2029.92%200%200%200%2098.235%2078.35a31.53%2031.53%200%200%200-3.105-20.232%2030%2030%200%200%200%204.474-11.182%2031.88%2031.88%200%200%200-5.447-24.116'%20style='fill:%23ff3e00'/%3e%3cpath%20d='M45.817%20106.582a20.72%2020.72%200%200%201-22.237-8.243%2019.17%2019.17%200%200%201-3.277-14.503%2018%2018%200%200%201%20.624-2.435l.49-1.498%201.337.981a33.6%2033.6%200%200%200%2010.203%205.098l.97.294-.09.968a5.85%205.85%200%200%200%201.052%203.878%206.24%206.24%200%200%200%206.695%202.485%205.8%205.8%200%200%200%201.603-.704L69.27%2076.28a5.43%205.43%200%200%200%202.45-3.631%205.8%205.8%200%200%200-.987-4.371%206.24%206.24%200%200%200-6.698-2.487%205.7%205.7%200%200%200-1.6.704l-9.953%206.345a19%2019%200%200%201-5.296%202.326%2020.72%2020.72%200%200%201-22.237-8.243%2019.17%2019.17%200%200%201-3.277-14.502%2017.99%2017.99%200%200%201%208.13-12.052l26.081-16.623a19%2019%200%200%201%205.3-2.329%2020.72%2020.72%200%200%201%2022.237%208.243%2019.17%2019.17%200%200%201%203.277%2014.503%2018%2018%200%200%201-.624%202.435l-.49%201.498-1.337-.98a33.6%2033.6%200%200%200-10.203-5.1l-.97-.294.09-.968a5.86%205.86%200%200%200-1.052-3.878%206.24%206.24%200%200%200-6.696-2.485%205.8%205.8%200%200%200-1.602.704L37.73%2051.72a5.42%205.42%200%200%200-2.449%203.63%205.79%205.79%200%200%200%20.986%204.372%206.24%206.24%200%200%200%206.698%202.486%205.8%205.8%200%200%200%201.602-.704l9.952-6.342a19%2019%200%200%201%205.295-2.328%2020.72%2020.72%200%200%201%2022.237%208.242%2019.17%2019.17%200%200%201%203.277%2014.503%2018%2018%200%200%201-8.13%2012.053l-26.081%2016.622a19%2019%200%200%201-5.3%202.328'%20style='fill:%23fff'/%3e%3c/svg%3e",ae="theme-preference";function Pe(){if(typeof window>"u")return"system";const e=window.localStorage.getItem(ae);return e==="light"||e==="dark"||e==="system"?e:"system"}function Le(e){window.localStorage.setItem(ae,e)}function We(e){return e==="light"||e==="dark"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Me(e){document.documentElement.dataset.theme=e,document.documentElement.style.colorScheme=e}var je=E('<nav class="nav svelte-1h32yp1"><div class="links svelte-1h32yp1"><a>Log</a> <a>History</a> <a>Week</a></div> <button type="button" class="theme svelte-1h32yp1"><!></button></nav>');function Ne(e,c){Q(c,!1);const o=()=>F(ke,"$page",i),[i,n]=te(),t=Y();let s=Y("system"),r="light";function l(){r=We(f(s)),Me(r)}function m(){C(s,f(s)==="system"?"light":f(s)==="light"?"dark":"system"),Le(f(s)),l()}let u=null;const a=()=>{f(s)==="system"&&l()};he(()=>{C(s,Pe()),u=window.matchMedia("(prefers-color-scheme: dark)"),u.addEventListener("change",a),l()}),ye(()=>{u?.removeEventListener("change",a)});const S=q("/log"),j=q("/history"),N=q("/week");ge(()=>o(),()=>{C(t,String(o().url.pathname))}),_e(),ee();var T=je(),v=_(T),d=_(v);let g;var w=p(d,2);let x;var G=p(w,2);let I;b(v);var $=p(v,2),se=_($);{var ne=k=>{var P=D("System");h(k,P)},re=k=>{var P=ce(),oe=W(P);{var ie=R=>{var A=D("Light");h(R,A)},le=R=>{var A=D("Dark");h(R,A)};M(oe,R=>{f(s)==="light"?R(ie):R(le,!1)},!0)}h(k,P)};M(se,k=>{f(s)==="system"?k(ne):k(re,!1)})}b($),b(T),X(()=>{y(d,"href",S),g=H(d,1,"svelte-1h32yp1",null,g,{active:f(t)==="/log"}),y(w,"href",j),x=H(w,1,"svelte-1h32yp1",null,x,{active:f(t)==="/history"}),y(G,"href",N),I=H(G,1,"svelte-1h32yp1",null,I,{active:f(t)==="/week"}),y($,"aria-label",`Theme: ${f(s)}. Click to change.`),y($,"title",`Theme: ${f(s)}`)}),L("click",$,m),h(e,T),Z(),n()}function Ae(e={}){const{immediate:c=!1,onNeedRefresh:o,onOfflineReady:i,onRegistered:n,onRegisteredSW:t,onRegisterError:s}=e;let r,l;const m=async(a=!0)=>{await l};async function u(){if("serviceWorker"in navigator){if(r=await Ee(async()=>{const{Workbox:a}=await import("../chunks/BIl4cyR9.js");return{Workbox:a}},[],import.meta.url).then(({Workbox:a})=>new a("./sw.js",{scope:"./",type:"classic"})).catch(a=>{s?.(a)}),!r)return;r.addEventListener("activated",a=>{(a.isUpdate||a.isExternal)&&window.location.reload()}),r.addEventListener("installed",a=>{a.isUpdate||i?.()}),r.register({immediate:c}).then(a=>{t?t("./sw.js",a):n?.(a)}).catch(a=>{s?.(a)})}}return l=u(),m}function De(e={}){const{immediate:c=!0,onNeedRefresh:o,onOfflineReady:i,onRegistered:n,onRegisteredSW:t,onRegisterError:s}=e,r=z(!1),l=z(!1),m=Ae({immediate:c,onOfflineReady(){l.set(!0),i?.()},onNeedRefresh(){r.set(!0),o?.()},onRegistered:n,onRegisteredSW:t,onRegisterError:s});return{needRefresh:r,offlineReady:l,updateServiceWorker:m}}var Oe=E('<div class="toast svelte-1bgylkj" role="status" aria-live="polite"><span>Ready to work offline.</span> <button type="button" class="svelte-1bgylkj">Dismiss</button></div>'),Ce=E('<div class="toast svelte-1bgylkj" role="status" aria-live="polite"><span>Update available.</span> <div class="actions svelte-1bgylkj"><button type="button" class="svelte-1bgylkj">Reload</button> <button type="button" class="secondary svelte-1bgylkj">Later</button></div></div>'),He=E("<!> <!>",1);function qe(e,c){Q(c,!1);const o=()=>F(s,"$offlineReady",n),i=()=>F(r,"$needRefresh",n),[n,t]=te(),{offlineReady:s,needRefresh:r,updateServiceWorker:l}=De();function m(){s.set(!1),r.set(!1)}async function u(){await l(!0)}ee();var a=He(),S=W(a);{var j=v=>{var d=Oe(),g=p(_(d),2);b(d),L("click",g,m),h(v,d)};M(S,v=>{o()&&v(j)})}var N=p(S,2);{var T=v=>{var d=Ce(),g=p(_(d),2),w=_(g),x=p(w,2);b(g),b(d),L("click",w,u),L("click",x,m),h(v,d)};M(N,v=>{i()&&v(T)})}h(e,a),Z(),t()}var Fe=E('<link rel="icon"/> <link rel="manifest"/> <meta name="theme-color" content="#111827"/> <meta name="mobile-web-app-capable" content="yes"/> <meta name="apple-mobile-web-app-capable" content="yes"/> <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/> <meta name="apple-mobile-web-app-title" content="PTG"/> <link rel="apple-touch-icon"/> <meta name="viewport" content="width=device-width, initial-scale=1"/>',1),Be=E('<!> <!> <main class="main svelte-12qhfyh"><!></main>',1);function Ze(e,c){var o=Be();$e("12qhfyh",r=>{var l=Fe(),m=W(l),u=p(m,2),a=p(u,12);be(2),X(()=>{y(m,"href",xe),y(u,"href",`${B??""}/manifest.webmanifest`),y(a,"href",`${B??""}/icons/apple-touch-icon.png`)}),h(r,l)});var i=W(o);Ne(i,{});var n=p(i,2);qe(n,{});var t=p(n,2),s=_(t);Te(s,()=>c.children),b(t),h(e,o)}export{Ze as component};
