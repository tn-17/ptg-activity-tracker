import{f as E,a as h,t as A,c as ce}from"../chunks/CT3D-Iho.js";import{a1 as z,a3 as fe,Y as me,b1 as ve,x as D,av as de,ak as pe,ax as U,a8 as G,a7 as K,_ as ue,p as Q,o as he,b2 as ge,R as ye,T as _e,J as X,a as Z,s as C,v as Y,K as _,H as p,O as b,c as f,I as M,M as be}from"../chunks/Bbatwou0.js";import{B as we,i as W}from"../chunks/CtOTHBIA.js";import{s as g}from"../chunks/DLCH2CcZ.js";import{i as ee}from"../chunks/BXyBdR38.js";import{e as L}from"../chunks/D7lJB4nl.js";import{s as H,p as ke}from"../chunks/BXZBVRcN.js";import{s as te,a as F}from"../chunks/Dkq4dWDL.js";import{r as q}from"../chunks/C4huXakr.js";import{_ as Re}from"../chunks/PPVm8Dsz.js";import{w as J}from"../chunks/DOX_p04D.js";import{b as V}from"../chunks/6LpyCTP6.js";function Ee(e,c,...o){var i=new we(e);z(()=>{const n=c()??null;i.ensure(n,n&&(t=>n(t,...o)))},fe)}function Te(e,c){let o=null,i=D;var n;if(D){o=ue;for(var t=de(document.head);t!==null&&(t.nodeType!==pe||t.data!==e);)t=U(t);if(t===null)G(!1);else{var s=U(t);t.remove(),K(s)}}D||(n=document.head.appendChild(me()));try{z(()=>c(n),ve)}finally{i&&(G(!0),K(o))}}const $e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='128'%20viewBox='0%200%20107%20128'%3e%3ctitle%3esvelte-logo%3c/title%3e%3cpath%20d='M94.157%2022.819c-10.4-14.885-30.94-19.297-45.792-9.835L22.282%2029.608A29.92%2029.92%200%200%200%208.764%2049.65a31.5%2031.5%200%200%200%203.108%2020.231%2030%2030%200%200%200-4.477%2011.183%2031.9%2031.9%200%200%200%205.448%2024.116c10.402%2014.887%2030.942%2019.297%2045.791%209.835l26.083-16.624A29.92%2029.92%200%200%200%2098.235%2078.35a31.53%2031.53%200%200%200-3.105-20.232%2030%2030%200%200%200%204.474-11.182%2031.88%2031.88%200%200%200-5.447-24.116'%20style='fill:%23ff3e00'/%3e%3cpath%20d='M45.817%20106.582a20.72%2020.72%200%200%201-22.237-8.243%2019.17%2019.17%200%200%201-3.277-14.503%2018%2018%200%200%201%20.624-2.435l.49-1.498%201.337.981a33.6%2033.6%200%200%200%2010.203%205.098l.97.294-.09.968a5.85%205.85%200%200%200%201.052%203.878%206.24%206.24%200%200%200%206.695%202.485%205.8%205.8%200%200%200%201.603-.704L69.27%2076.28a5.43%205.43%200%200%200%202.45-3.631%205.8%205.8%200%200%200-.987-4.371%206.24%206.24%200%200%200-6.698-2.487%205.7%205.7%200%200%200-1.6.704l-9.953%206.345a19%2019%200%200%201-5.296%202.326%2020.72%2020.72%200%200%201-22.237-8.243%2019.17%2019.17%200%200%201-3.277-14.502%2017.99%2017.99%200%200%201%208.13-12.052l26.081-16.623a19%2019%200%200%201%205.3-2.329%2020.72%2020.72%200%200%201%2022.237%208.243%2019.17%2019.17%200%200%201%203.277%2014.503%2018%2018%200%200%201-.624%202.435l-.49%201.498-1.337-.98a33.6%2033.6%200%200%200-10.203-5.1l-.97-.294.09-.968a5.86%205.86%200%200%200-1.052-3.878%206.24%206.24%200%200%200-6.696-2.485%205.8%205.8%200%200%200-1.602.704L37.73%2051.72a5.42%205.42%200%200%200-2.449%203.63%205.79%205.79%200%200%200%20.986%204.372%206.24%206.24%200%200%200%206.698%202.486%205.8%205.8%200%200%200%201.602-.704l9.952-6.342a19%2019%200%200%201%205.295-2.328%2020.72%2020.72%200%200%201%2022.237%208.242%2019.17%2019.17%200%200%201%203.277%2014.503%2018%2018%200%200%201-8.13%2012.053l-26.081%2016.622a19%2019%200%200%201-5.3%202.328'%20style='fill:%23fff'/%3e%3c/svg%3e",ae="theme-preference";function xe(){if(typeof window>"u")return"system";const e=window.localStorage.getItem(ae);return e==="light"||e==="dark"||e==="system"?e:"system"}function Se(e){window.localStorage.setItem(ae,e)}function Pe(e){return e==="light"||e==="dark"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Le(e){document.documentElement.dataset.theme=e,document.documentElement.style.colorScheme=e}var Me=E('<nav class="nav svelte-1h32yp1"><div class="links svelte-1h32yp1"><a>Log</a> <a>History</a> <a>Week</a></div> <button type="button" class="theme svelte-1h32yp1"><!></button></nav>');function We(e,c){Q(c,!1);const o=()=>F(ke,"$page",i),[i,n]=te(),t=Y();let s=Y("system"),r="light";function l(){r=Pe(f(s)),Le(r)}function m(){C(s,f(s)==="system"?"light":f(s)==="light"?"dark":"system"),Se(f(s)),l()}let u=null;const a=()=>{f(s)==="system"&&l()};he(()=>{C(s,xe()),u=window.matchMedia("(prefers-color-scheme: dark)"),u.addEventListener("change",a),l()}),ge(()=>{u?.removeEventListener("change",a)});const x=q("/log"),j=q("/history"),N=q("/week");ye(()=>o(),()=>{C(t,String(o().url.pathname))}),_e(),ee();var T=Me(),v=_(T),d=_(v);let y;var w=p(d,2);let S;var I=p(w,2);let B;b(v);var $=p(v,2),se=_($);{var ne=k=>{var P=A("System");h(k,P)},re=k=>{var P=ce(),oe=M(P);{var ie=R=>{var O=A("Light");h(R,O)},le=R=>{var O=A("Dark");h(R,O)};W(oe,R=>{f(s)==="light"?R(ie):R(le,!1)},!0)}h(k,P)};W(se,k=>{f(s)==="system"?k(ne):k(re,!1)})}b($),b(T),X(()=>{g(d,"href",x),y=H(d,1,"svelte-1h32yp1",null,y,{active:f(t)==="/log"}),g(w,"href",j),S=H(w,1,"svelte-1h32yp1",null,S,{active:f(t)==="/history"}),g(I,"href",N),B=H(I,1,"svelte-1h32yp1",null,B,{active:f(t)==="/week"}),g($,"aria-label",`Theme: ${f(s)}. Click to change.`),g($,"title",`Theme: ${f(s)}`)}),L("click",$,m),h(e,T),Z(),n()}function je(e={}){const{immediate:c=!1,onNeedRefresh:o,onOfflineReady:i,onRegistered:n,onRegisteredSW:t,onRegisterError:s}=e;let r,l;const m=async(a=!0)=>{await l};async function u(){if("serviceWorker"in navigator){if(r=await Re(async()=>{const{Workbox:a}=await import("../chunks/BIl4cyR9.js");return{Workbox:a}},[],import.meta.url).then(({Workbox:a})=>new a("./sw.js",{scope:"./",type:"classic"})).catch(a=>{s?.(a)}),!r)return;r.addEventListener("activated",a=>{(a.isUpdate||a.isExternal)&&window.location.reload()}),r.addEventListener("installed",a=>{a.isUpdate||i?.()}),r.register({immediate:c}).then(a=>{t?t("./sw.js",a):n?.(a)}).catch(a=>{s?.(a)})}}return l=u(),m}function Ne(e={}){const{immediate:c=!0,onNeedRefresh:o,onOfflineReady:i,onRegistered:n,onRegisteredSW:t,onRegisterError:s}=e,r=J(!1),l=J(!1),m=je({immediate:c,onOfflineReady(){l.set(!0),i?.()},onNeedRefresh(){r.set(!0),o?.()},onRegistered:n,onRegisteredSW:t,onRegisterError:s});return{needRefresh:r,offlineReady:l,updateServiceWorker:m}}var Oe=E('<div class="toast svelte-1bgylkj" role="status" aria-live="polite"><span>Ready to work offline.</span> <button type="button" class="svelte-1bgylkj">Dismiss</button></div>'),Ae=E('<div class="toast svelte-1bgylkj" role="status" aria-live="polite"><span>Update available.</span> <div class="actions svelte-1bgylkj"><button type="button" class="svelte-1bgylkj">Reload</button> <button type="button" class="secondary svelte-1bgylkj">Later</button></div></div>'),De=E("<!> <!>",1);function Ce(e,c){Q(c,!1);const o=()=>F(s,"$offlineReady",n),i=()=>F(r,"$needRefresh",n),[n,t]=te(),{offlineReady:s,needRefresh:r,updateServiceWorker:l}=Ne();function m(){s.set(!1),r.set(!1)}async function u(){await l(!0)}ee();var a=De(),x=M(a);{var j=v=>{var d=Oe(),y=p(_(d),2);b(d),L("click",y,m),h(v,d)};W(x,v=>{o()&&v(j)})}var N=p(x,2);{var T=v=>{var d=Ae(),y=p(_(d),2),w=_(y),S=p(w,2);b(y),b(d),L("click",w,u),L("click",S,m),h(v,d)};W(N,v=>{i()&&v(T)})}h(e,a),Z(),t()}var He=E('<link rel="icon"/> <link rel="manifest"/> <meta name="theme-color" content="#111827"/> <meta name="mobile-web-app-capable" content="yes"/> <meta name="apple-mobile-web-app-capable" content="yes"/> <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/> <meta name="apple-mobile-web-app-title" content="PTG"/> <link rel="apple-touch-icon"/> <meta name="viewport" content="width=device-width, initial-scale=1"/>',1),qe=E('<!> <!> <main class="main svelte-12qhfyh"><!></main>',1);function Ze(e,c){var o=qe();Te("12qhfyh",r=>{var l=He(),m=M(l),u=p(m,2),a=p(u,12);be(2),X(()=>{g(m,"href",$e),g(u,"href",`${V??""}/manifest.webmanifest`),g(a,"href",`${V??""}/icons/apple-touch-icon.png`)}),h(r,l)});var i=M(o);We(i,{});var n=p(i,2);Ce(n,{});var t=p(n,2),s=_(t);Ee(s,()=>c.children),b(t),h(e,o)}export{Ze as component};
