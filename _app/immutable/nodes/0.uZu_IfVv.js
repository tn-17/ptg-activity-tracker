import{f as E,a as p,t as N,c as ne}from"../chunks/1VXHgzeW.js";import{a0 as G,a2 as re,X as oe,b1 as ie,w as A,av as le,aj as ce,ax as F,a7 as I,a6 as B,Z as fe,p as K,o as me,b2 as ve,Q as de,R as pe,M as J,a as Q,s as D,v as H,J as y,H as u,K as _,c as f,I as M,ao as ue}from"../chunks/0WvxHNS7.js";import{B as he,i as W}from"../chunks/DQ9zl-z8.js";import{s as C}from"../chunks/BbqHI5c7.js";import{i as V}from"../chunks/CcNT3Cii.js";import{e as L}from"../chunks/gMJh_Zwb.js";import{s as O,p as ge}from"../chunks/DcHW9Y1O.js";import{s as X,a as q}from"../chunks/DUfShEG1.js";import{_ as ye}from"../chunks/PPVm8Dsz.js";import{w as U}from"../chunks/Ccxg3yrc.js";function _e(e,c,...o){var i=new he(e);G(()=>{const n=c()??null;i.ensure(n,n&&(t=>n(t,...o)))},re)}function be(e,c){let o=null,i=A;var n;if(A){o=fe;for(var t=le(document.head);t!==null&&(t.nodeType!==ce||t.data!==e);)t=F(t);if(t===null)I(!1);else{var a=F(t);t.remove(),B(a)}}A||(n=document.head.appendChild(oe()));try{G(()=>c(n),ie)}finally{i&&(I(!0),B(o))}}const we="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='128'%20viewBox='0%200%20107%20128'%3e%3ctitle%3esvelte-logo%3c/title%3e%3cpath%20d='M94.157%2022.819c-10.4-14.885-30.94-19.297-45.792-9.835L22.282%2029.608A29.92%2029.92%200%200%200%208.764%2049.65a31.5%2031.5%200%200%200%203.108%2020.231%2030%2030%200%200%200-4.477%2011.183%2031.9%2031.9%200%200%200%205.448%2024.116c10.402%2014.887%2030.942%2019.297%2045.791%209.835l26.083-16.624A29.92%2029.92%200%200%200%2098.235%2078.35a31.53%2031.53%200%200%200-3.105-20.232%2030%2030%200%200%200%204.474-11.182%2031.88%2031.88%200%200%200-5.447-24.116'%20style='fill:%23ff3e00'/%3e%3cpath%20d='M45.817%20106.582a20.72%2020.72%200%200%201-22.237-8.243%2019.17%2019.17%200%200%201-3.277-14.503%2018%2018%200%200%201%20.624-2.435l.49-1.498%201.337.981a33.6%2033.6%200%200%200%2010.203%205.098l.97.294-.09.968a5.85%205.85%200%200%200%201.052%203.878%206.24%206.24%200%200%200%206.695%202.485%205.8%205.8%200%200%200%201.603-.704L69.27%2076.28a5.43%205.43%200%200%200%202.45-3.631%205.8%205.8%200%200%200-.987-4.371%206.24%206.24%200%200%200-6.698-2.487%205.7%205.7%200%200%200-1.6.704l-9.953%206.345a19%2019%200%200%201-5.296%202.326%2020.72%2020.72%200%200%201-22.237-8.243%2019.17%2019.17%200%200%201-3.277-14.502%2017.99%2017.99%200%200%201%208.13-12.052l26.081-16.623a19%2019%200%200%201%205.3-2.329%2020.72%2020.72%200%200%201%2022.237%208.243%2019.17%2019.17%200%200%201%203.277%2014.503%2018%2018%200%200%201-.624%202.435l-.49%201.498-1.337-.98a33.6%2033.6%200%200%200-10.203-5.1l-.97-.294.09-.968a5.86%205.86%200%200%200-1.052-3.878%206.24%206.24%200%200%200-6.696-2.485%205.8%205.8%200%200%200-1.602.704L37.73%2051.72a5.42%205.42%200%200%200-2.449%203.63%205.79%205.79%200%200%200%20.986%204.372%206.24%206.24%200%200%200%206.698%202.486%205.8%205.8%200%200%200%201.602-.704l9.952-6.342a19%2019%200%200%201%205.295-2.328%2020.72%2020.72%200%200%201%2022.237%208.242%2019.17%2019.17%200%200%201%203.277%2014.503%2018%2018%200%200%201-8.13%2012.053l-26.081%2016.622a19%2019%200%200%201-5.3%202.328'%20style='fill:%23fff'/%3e%3c/svg%3e",Y="theme-preference";function ke(){if(typeof window>"u")return"system";const e=window.localStorage.getItem(Y);return e==="light"||e==="dark"||e==="system"?e:"system"}function Re(e){window.localStorage.setItem(Y,e)}function Ee(e){return e==="light"||e==="dark"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Te(e){document.documentElement.dataset.theme=e,document.documentElement.style.colorScheme=e}var $e=E('<nav class="nav svelte-1h32yp1"><div class="links svelte-1h32yp1"><a href="/log">Log</a> <a href="/history">History</a> <a href="/week">Week</a></div> <button type="button" class="theme svelte-1h32yp1"><!></button></nav>');function Se(e,c){K(c,!1);const o=()=>q(ge,"$page",i),[i,n]=X(),t=H();let a=H("system"),r="light";function l(){r=Ee(f(a)),Te(r)}function m(){D(a,f(a)==="system"?"light":f(a)==="light"?"dark":"system"),Re(f(a)),l()}let h=null;const s=()=>{f(a)==="system"&&l()};me(()=>{D(a,ke()),h=window.matchMedia("(prefers-color-scheme: dark)"),h.addEventListener("change",s),l()}),ve(()=>{h?.removeEventListener("change",s)}),de(()=>o(),()=>{D(t,String(o().url.pathname))}),pe(),V();var b=$e(),T=y(b),S=y(T);let x;var v=u(S,2);let d;var w=u(v,2);let $;_(T);var g=u(T,2),Z=y(g);{var z=k=>{var P=N("System");p(k,P)},ee=k=>{var P=ne(),te=M(P);{var ae=R=>{var j=N("Light");p(R,j)},se=R=>{var j=N("Dark");p(R,j)};W(te,R=>{f(a)==="light"?R(ae):R(se,!1)},!0)}p(k,P)};W(Z,k=>{f(a)==="system"?k(z):k(ee,!1)})}_(g),_(b),J(()=>{x=O(S,1,"svelte-1h32yp1",null,x,{active:f(t)==="/log"}),d=O(v,1,"svelte-1h32yp1",null,d,{active:f(t)==="/history"}),$=O(w,1,"svelte-1h32yp1",null,$,{active:f(t)==="/week"}),C(g,"aria-label",`Theme: ${f(a)}. Click to change.`),C(g,"title",`Theme: ${f(a)}`)}),L("click",g,m),p(e,b),Q(),n()}function xe(e={}){const{immediate:c=!1,onNeedRefresh:o,onOfflineReady:i,onRegistered:n,onRegisteredSW:t,onRegisterError:a}=e;let r,l;const m=async(s=!0)=>{await l};async function h(){if("serviceWorker"in navigator){if(r=await ye(async()=>{const{Workbox:s}=await import("../chunks/BIl4cyR9.js");return{Workbox:s}},[],import.meta.url).then(({Workbox:s})=>new s("./sw.js",{scope:"./",type:"classic"})).catch(s=>{a?.(s)}),!r)return;r.addEventListener("activated",s=>{(s.isUpdate||s.isExternal)&&window.location.reload()}),r.addEventListener("installed",s=>{s.isUpdate||i?.()}),r.register({immediate:c}).then(s=>{t?t("./sw.js",s):n?.(s)}).catch(s=>{a?.(s)})}}return l=h(),m}function Pe(e={}){const{immediate:c=!0,onNeedRefresh:o,onOfflineReady:i,onRegistered:n,onRegisteredSW:t,onRegisterError:a}=e,r=U(!1),l=U(!1),m=xe({immediate:c,onOfflineReady(){l.set(!0),i?.()},onNeedRefresh(){r.set(!0),o?.()},onRegistered:n,onRegisteredSW:t,onRegisterError:a});return{needRefresh:r,offlineReady:l,updateServiceWorker:m}}var Le=E('<div class="toast svelte-1bgylkj" role="status" aria-live="polite"><span>Ready to work offline.</span> <button type="button" class="svelte-1bgylkj">Dismiss</button></div>'),Me=E('<div class="toast svelte-1bgylkj" role="status" aria-live="polite"><span>Update available.</span> <div class="actions svelte-1bgylkj"><button type="button" class="svelte-1bgylkj">Reload</button> <button type="button" class="secondary svelte-1bgylkj">Later</button></div></div>'),We=E("<!> <!>",1);function je(e,c){K(c,!1);const o=()=>q(a,"$offlineReady",n),i=()=>q(r,"$needRefresh",n),[n,t]=X(),{offlineReady:a,needRefresh:r,updateServiceWorker:l}=Pe();function m(){a.set(!1),r.set(!1)}async function h(){await l(!0)}V();var s=We(),b=M(s);{var T=v=>{var d=Le(),w=u(y(d),2);_(d),L("click",w,m),p(v,d)};W(b,v=>{o()&&v(T)})}var S=u(b,2);{var x=v=>{var d=Me(),w=u(y(d),2),$=y(w),g=u($,2);_(w),_(d),L("click",$,h),L("click",g,m),p(v,d)};W(S,v=>{i()&&v(x)})}p(e,s),Q(),t()}var Ne=E('<link rel="icon"/> <link rel="manifest" href="/manifest.webmanifest"/> <meta name="theme-color" content="#111827"/> <meta name="mobile-web-app-capable" content="yes"/> <meta name="apple-mobile-web-app-capable" content="yes"/> <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/> <meta name="apple-mobile-web-app-title" content="PTG"/> <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png"/> <meta name="viewport" content="width=device-width, initial-scale=1"/>',1),Ae=E('<!> <!> <main class="main svelte-12qhfyh"><!></main>',1);function Ke(e,c){var o=Ae();be("12qhfyh",r=>{var l=Ne(),m=M(l);ue(16),J(()=>C(m,"href",we)),p(r,l)});var i=M(o);Se(i,{});var n=u(i,2);je(n,{});var t=u(n,2),a=y(t);_e(a,()=>c.children),_(t),p(e,o)}export{Ke as component};
